<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/custom.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav id="nav">
    <h3 class="group-title"><a href="index.html">&#x3C; Home &#x3E;</a></h3><input class="search" placeholder="Search" type="text"><div class="list"><h3 class="group-title">Modules</h3><ul><li><a href="module-MotorHat.html" class="className">MotorHat</a></li><li><a href="module-MotorHat_DC.html" class="className">MotorHat/DC</a></li><li><a href="module-MotorHat_Servo.html" class="className">MotorHat/Servo</a></li><li><a href="module-MotorHat_Stepper.html" class="className">MotorHat/Stepper</a></li></ul><h3 class="group-title">Namespaces</h3><ul><li><a href="module-MotorHat_DC-dc.html" class="className">dc</a><ul class='methods'><li data-type='method'><a href="module-MotorHat_DC-dc.html#init" class="methodName">init</a></li><li data-type='method'><a href="module-MotorHat_DC-dc.html#run" class="methodName">run</a></li><li data-type='method'><a href="module-MotorHat_DC-dc.html#runSync" class="methodName">runSync</a></li><li data-type='method'><a href="module-MotorHat_DC-dc.html#setFrequency" class="methodName">setFrequency</a></li><li data-type='method'><a href="module-MotorHat_DC-dc.html#setFrequencySync" class="methodName">setFrequencySync</a></li><li data-type='method'><a href="module-MotorHat_DC-dc.html#setSpeed" class="methodName">setSpeed</a></li><li data-type='method'><a href="module-MotorHat_DC-dc.html#setSpeedSync" class="methodName">setSpeedSync</a></li><li data-type='method'><a href="module-MotorHat_DC-dc.html#stop" class="methodName">stop</a></li><li data-type='method'><a href="module-MotorHat_DC-dc.html#stopSync" class="methodName">stopSync</a></li></ul></li><li><a href="module-MotorHat_Servo-servo.html" class="className">servo</a><ul class='methods'><li data-type='method'><a href="module-MotorHat_Servo-servo.html#calibrate" class="methodName">calibrate</a></li><li data-type='method'><a href="module-MotorHat_Servo-servo.html#moveTo" class="methodName">moveTo</a></li></ul></li><li><a href="module-MotorHat_Stepper-stepper.html" class="className">stepper</a><ul class='methods'><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#init" class="methodName">init</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#oneStep" class="methodName">oneStep</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#oneStepSync" class="methodName">oneStepSync</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#release" class="methodName">release</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#releaseSync" class="methodName">releaseSync</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#setCurrent" class="methodName">setCurrent</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#setFrequency" class="methodName">setFrequency</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#setFrequencySync" class="methodName">setFrequencySync</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#setMicrosteps" class="methodName">setMicrosteps</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#setSpeed" class="methodName">setSpeed</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#setSteps" class="methodName">setSteps</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#setStyle" class="methodName">setStyle</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#step" class="methodName">step</a></li><li data-type='method'><a href="module-MotorHat_Stepper-stepper.html#stepSync" class="methodName">stepSync</a></li></ul></li><li><a href="module-MotorHat-motorhat.html" class="className">motorhat</a><ul class='methods'><li data-type='method'><a href="module-MotorHat-motorhat.html#init" class="methodName">init</a></li></ul></li></ul></div>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>üèÅ motor-hat üé©</h1><p><a href="https:%5C/%5C/npmjs.org/package/motor-hat"><img src="https:%5C/%5C/badge.fury.io/js/motor-hat.svg" alt="NPM version"></a> <a href="https:%5C/%5C/travis-ci.org/jcane86/motor-hat"><img src="https:%5C/%5C/travis-ci.org/jcane86/motor-hat.svg?branch=master" alt="Build Status"></a> <a href="https:%5C/%5C/david-dm.org/jcane86/motor-hat"><img src="https:%5C/%5C/david-dm.org/jcane86/motor-hat.svg?theme=shields.io" alt="Dependency Status"></a> <a href="https:%5C/%5C/coveralls.io/github/jcane86/motor-hat?branch=master"><img src="https:%5C/%5C/img.shields.io/coveralls/jcane86/motor-hat/master.svg" alt="Coverage percentage"></a> <a href="https:%5C/%5C/github.com/semantic-release/semantic-release"><img src="https:%5C/%5C/img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg" alt="semantic-release"></a> <a href="http:%5C/%5C/commitizen.github.io/cz-cli/"><img src="https:%5C/%5C/img.shields.io/badge/commitizen-friendly-brightgreen.svg" alt="Commitizen friendly"></a> <a href="https://greenkeeper.io/"><img src="https://badges.greenkeeper.io/jcane86/motor-hat.svg" alt="Greenkeeper badge"></a> <a href="https://gitter.im/motor-hat"><img src="https://badges.gitter.im/motor-hat.png" alt="Gitter badge"></a></p>
<blockquote>
<p>Node Module to control Adafruit's MotorHAT for the Raspberry Pi <a href="http://jcane86.github.io/motor-hat">http://jcane86.github.io/motor-hat</a></p>
</blockquote>
<h2>Installation &amp; Basic Usage</h2><pre class="prettyprint source lang-sh"><code>$ npm install --save motor-hat</code></pre><pre class="prettyprint source lang-js"><code>var motorHat = require('motor-hat')({steppers: [{ W1: 'M1', W2: 'M2' }]}).init();
motorHat.steppers[0].setSpeed({pps:100});
motorHat.steppers[0].step('back', 2048, (err, result) => {
  if (err) return console.log('Oh no, there was an error', err);
  console.log(`Did ${result.steps} steps ${result.dir} in ${result.duration/1000} seconds. I had to retry ${result.retried} steps because you set me up quicker than your poor board can handle.`); 
});</code></pre><h2>DOCS</h2><ul>
<li>See the full api here: <a href="http://jcane86.github.io/motor-hat">http://jcane86.github.io/motor-hat</a></li>
<li>See it on GitHub here: <a href="http://github.com/jcane86/motor-hat">http://github.com/jcane86/motor-hat</a></li>
</ul>
<h2>Notes about 2.0</h2><p>Some changes will need to be made to transition to the async version of the library in 2.0:</p>
<p>Main library:</p>
<ul>
<li>Instance needs to be init()'d</li>
<li>Servo and Stepper instances exposed in servos and steppers arrays are already init()'d.</li>
</ul>
<p>DC Motors: </p>
<ul>
<li>Methods are now async, and need a callback as last parameter.</li>
<li>Old Sync methods remain, just call them as stopSync(), etc..</li>
<li>Instance needs to be init()'d</li>
</ul>
<p>Servo Motors:</p>
<ul>
<li>No changes, everything is still sync (I didn't feel it was necessary, feel free to open an issue or send a PR otherwise).</li>
</ul>
<p>Stepper Motors:</p>
<ul>
<li>Most methods already had the Sync suffix. Only setFrequency is now setFrequencySync.</li>
<li>Async methods added.</li>
<li>Release and current methods added (actually in 1.3).</li>
<li>Instance needs to be init()'d</li>
</ul>
<h2>Advanced usage</h2><pre class="prettyprint source lang-js"><code>// get a motor-hat instance with the following initialized:
// * a non-default I2C address for the motor hat (default is 0x6F)
// * a stepper with winding one on 'M1' and winding two on 'M2' ports
// * a dc motor on port 'M4'
// * a servo on channel 0
// * a servo on channel 14
let spec = {
    address: 0x60,
    steppers: [{ W1: 'M1', W2: 'M2' }],
    dcs: ['M4'],
    servos: [0,14]
};
var motorHat = require('motor-hat')(spec);

// Since MotorHat 2.0, the instance needs to be initialized.
// This is to enable async initialization, feel free to open an issue if this is a pain.
motorHat.init();

// For steppers, set speed in rpm or pps (pulses per second) or sps (steps per second).
// To set it in rpm, set you steps/rev first (default 200)
// If you set it in pps, the speed will not be constant for different styles or number of microsteps.
motorHat.steppers[0].setSteps(2048);
motorHat.steppers[0].setSpeed({rpm:5});

// Move the motor one full turn fwds synchronously, one back async.
// step[Sync] and oneStep[Sync] take number of steps as input, 
// depending on selected style. To do 2048 full steps fwd (sync), 2048 back (async):
motorHat.steppers[0].stepSync('fwd', 2048);
motorHat.steppers[0].step('back', 2048, function(err, result) {
  if (err) {
    console.log('Oh no, there was an error');
  } else {
    // Move on..
  }
});</code></pre><h2>Further configuration</h2><pre class="prettyprint source lang-js"><code>// Supported syles are 'single', 'double' (default), 'interleaved', and 'microstep'
motorHat.steppers[0].setStyle('microstep');
// Supported number of microsteps are 8 and 16 (8 by default)
motorHat.steppers[0].setMicrosteps(16);
// step[Sync] and oneStep[Sync] take number of steps/halfsteps/microsteps as input, 
// depending on selected style. To do 16 microsteps fwd:
motorHat.steppers[0].stepSync('back', 16);
// Set current at 50% to avoid overheating or to run at lower torques
motorHat.steppers[0].setCurrent(0.5);
// Release motor after moving it to avoid overheating or to let it move freely.
motorHat.steppers[0].release((err) => !err && console.log(&quot;IT'S FREE!!&quot;));


// Calibrate the servo output. Pass in PWM frequency, position 0 pulse duration in ms,
// position 100 pulse duration in ms.
motorHat.servos[0].calibrate(50, 1, 2);
// Move to position 0
motorHat.servos[0].moveTo(0);
// Move to position 100
motorHat.servos[0].moveTo(100);


// Start dc motor forward (by default at 100% speed)
motorHat.dcs[0].runSync('fwd');
// Set DC motor speed to 50%
motorHat.dcs[0].setSpeedSync(50);
// reverse the dc motor to back direction
motorHat.dcs[0].runSync('back');
// stop the dc motor
motorHat.dcs[0].stopSync();</code></pre><h2>As seen in</h2><p>Some of our friends made cool stuff using motor-hat. Drop us a PR to add your project to this list.</p>
<ul>
<li><a href="https://github.com/joeljameswatson">@joeljameswatson</a> : Laser Mandala, a really cool remote controlled lights show (<a href="https://github.com/joeljameswatson/laser-mandala">joeljameswatson/laser-mandala</a>)<h2>License</h2></li>
</ul>
<p>MIT ¬© <a href="https://www.github.com/jcane86">J. Cane</a></p></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Fri, 27 Mar 2020 12:02:27 GMT using
    <a href="https://www.npmjs.com/package/namis">Namis</a> theme.
</footer>

<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.nicescroll/3.6.0/jquery.nicescroll.min.js"></script>
<script src="scripts/namis.search.jquery.js"></script>
<script>prettyPrint();
(function($){
    $('nav').niceScroll({
        cursorwidth: 7,
        hwacceleration: true,
        cursorcolor: "#036564",
        cursorborder: "1px solid #036564"
    });

    $('html').niceScroll({
        cursorwidth: 10,
        hwacceleration: true,
        smoothscroll: true,
        cursorminheight: 32,
        enablemousewheel: true, // nicescroll can manage mouse wheel events
        enablekeyboard: true // nicescroll can manage keyboard events
        ,cursorcolor: "#033649"
    });

    $('#nav').search(['className', 'methodName']);
})(jQuery);
</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>